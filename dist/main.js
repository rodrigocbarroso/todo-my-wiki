(()=>{"use strict";class e{constructor(e,t,o,c,r){const n=new Date;this._creationDate=n.getDate(),this._title=e,this._project=c,this._content=t,this._priority=o,this._dueDate=r}}const t=function(){let t={projects:[],idCounter:0};const c=function(e){var t;try{t=window[e];var o="__storage_test__";return t.setItem(o,o),t.removeItem(o),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}},r=()=>{if(c){const e=window.localStorage;return null==e.getItem("mainStorage")&&e.setItem("mainStorage",JSON.stringify(t)),JSON.parse(e.getItem("mainStorage"))}throw Error("local Storage couldn't be accessed")};return{storageAvailable:c,newCard:(t=new e)=>{let o=r();o.idCounter++,t._id=o.idCounter,o.cardList.push(t)},removeCard:e=>{},updateCard:e=>{},getList:()=>r().cardList,getCardById:e=>{},getProjectList:()=>r().projects,newProject:e=>{const t=new o(e);let n=r();return n.projects.push(t),(e=>{if(c)return window.localStorage.setItem("mainStorage",JSON.stringify(e)),e;throw Error("local Storage couldn't be accessed")})(n),console.log("Project Create Successfully"),n},clear:()=>{window.localStorage.setItem("mainStorage",JSON.stringify(t))}}}();function o(e){this._title=e,this._cards=[]}const c=()=>{const e=document.querySelector("#project-counter"),o=t.getProjectList().length;e.innerHTML=`Total Projects: ${o}`,r()},r=()=>{const e=t.getProjectList(),o=document.querySelector(".project-list");for(;o.hasChildNodes();)o.removeChild(o.lastChild);console.log(e),e.forEach((e=>{const t=document.createElement("div");t.classList.add("row"),t.classList.add("project"),t.classList.add("top-border");const c="pjid-"+e._title;t.innerHTML=`<div class="naming" id="${c}">${e._title}</div>`;const r=document.createElement("div");r.classList.add("priority-list"),e._cards.forEach((e=>{r.innerHTML+='<svg width="10" height="10">\n                                                <rect class="sqr-priority-0" width="10" height="10" />\n                                             </svg>\n                                             <button>X<button>'}));const n=document.createElement("button");n.innerText="X",o.appendChild(t),o.appendChild(r),t.appendChild(n),t.addEventListener("click",(t=>{console.log(`click no projeto ${e._title}`)})),n.addEventListener("click",(e=>{console.log(e),e.stopPropagation()}))}))};let n={};const s=e=>{n[`${e}`]?(document.querySelector(e).classList.remove("done"),document.querySelector(e).classList.add("hidden"),n[`${e}`]=!1):(document.querySelector(e).classList.remove("hidden"),n[`${e}`]=!0,document.querySelector(e).scrollHeight,document.querySelector(e).classList.add("done")),console.log(n)};document.querySelectorAll("#new-project-btn").forEach((e=>{e.addEventListener("click",(e=>{s("#new-project-section"),console.log("new-project-btn: click")}))})),document.querySelector("#add-project-btn").addEventListener("click",(e=>{console.log(document.querySelector("#input-project-name").value);const o=document.querySelector("#input-project-name").value,r=t.newProject(o);s("#new-project-section"),console.log(r),c()})),document.querySelectorAll("#add-card-btn,#discard-card-btn").forEach((e=>{e.addEventListener("click",(e=>{s("#add-card-section")}))})),c()})();